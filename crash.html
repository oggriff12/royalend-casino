
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RoyalEnd | Crash</title>
  <style>
    body {
      background-color: #0e0e1e;
      color: white;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 20px;
    }
    .wallet {
      text-align: right;
      margin-bottom: 20px;
      font-size: 18px;
      color: #00ffcc;
    }
    #crashCanvas {
      background-color: #111;
      border: 2px solid #333;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    button {
      padding: 10px 20px;
      font-weight: bold;
      background: #00ffcc;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .status {
      margin-top: 10px;
      color: #00ff99;
    }
  </style>
</head>
<body>

<div class="wallet">Balance: $<span id="balance">1.00</span></div>

<h2>ðŸ“ˆ RoyalEnd Crash</h2>

<canvas id="crashCanvas" width="600" height="300"></canvas>

<div>
  <button onclick="startCrash()">Start Game</button>
  <button onclick="cashOut()">Cash Out</button>
</div>

<div class="status" id="status">Waiting for game...</div>

<script>
  let balance = 1.00;
  let wager = 0.10;
  let multiplier = 1.0;
  let crashed = false;
  let playing = false;
  let interval;
  let ctx = document.getElementById("crashCanvas").getContext("2d");

  function updateBalance() {
    document.getElementById("balance").textContent = balance.toFixed(2);
  }

  function drawGraph() {
    ctx.clearRect(0, 0, 600, 300);
    ctx.beginPath();
    ctx.moveTo(0, 300);
    for (let x = 0; x <= multiplier * 50; x++) {
      let y = 300 - (Math.log(x + 1) * 50);
      ctx.lineTo(x * 10, y);
    }
    ctx.strokeStyle = "#00ffcc";
    ctx.lineWidth = 3;
    ctx.stroke();
  }

  function startCrash() {
    if (balance < wager) return alert("Not enough balance!");
    if (playing) return;
    playing = true;
    balance -= wager;
    updateBalance();
    multiplier = 1.0;
    crashed = false;
    document.getElementById("status").textContent = "Game Started!";
    interval = setInterval(() => {
      multiplier += 0.05;
      drawGraph();
      document.getElementById("status").textContent = `Current Multiplier: x${multiplier.toFixed(2)}`;
      if (Math.random() < 0.01 * multiplier) {
        crashGame();
      }
    }, 100);
  }

  function cashOut() {
    if (!playing || crashed) return;
    let profit = wager * multiplier;
    balance += profit;
    updateBalance();
    clearInterval(interval);
    playing = false;
    document.getElementById("status").textContent = `ðŸ’° Cashed out at x${multiplier.toFixed(2)} | +$${profit.toFixed(2)}`;
  }

  function crashGame() {
    crashed = true;
    playing = false;
    clearInterval(interval);
    document.getElementById("status").textContent = `ðŸ’¥ Crashed at x${multiplier.toFixed(2)} | You lost!`;
  }

  updateBalance();
  drawGraph();
</script>

</body>
</html>
